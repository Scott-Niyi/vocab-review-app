# 项目导出导入功能说明

## ✅ 已修复的问题

### 1. Switch Project 功能
- **之前**：点击后只是清除 localStorage 然后刷新
- **现在**：清除 localStorage 后刷新，会自动显示项目选择界面（可以选择其他项目）

### 2. Export/Import 功能
- **之前**：只导出/导入单个 JSON 文件
- **现在**：导出/导入整个项目文件夹（包括 vocabulary.json, config.json, logs/）

## 📦 导出项目（Export Project）

### Electron 模式
1. 打开 Settings（⚙️）
2. 点击 **"📦 Export Project"**
3. 系统会打开**保存对话框**（Finder 界面）
4. 选择导出位置
5. 输入导出文件夹名称（默认：`项目名-export`）
6. 点击"Export"
7. 应用会复制整个项目文件夹：
   - `vocabulary.json` - 所有单词数据
   - `config.json` - 项目配置
   - `logs/` - 所有日志文件（如果有）

### 浏览器模式
- 只能导出 JSON 文件（vocabulary.json 的内容）
- 点击 **"📦 Export Backup (JSON)"**

## 📥 导入项目（Import Project）

### Electron 模式
1. 打开 Settings（⚙️）
2. 点击 **"📥 Import Project"**
3. 系统会打开**文件夹选择对话框**（Finder 界面）
4. 选择要导入的项目文件夹
5. 确认导入
6. 应用会切换到导入的项目

### 浏览器模式
- 只能导入 JSON 文件
- 点击 **"📥 Import Backup (JSON)"**
- 选择之前导出的 JSON 文件

## 🔄 Switch Project 工作流程

1. 点击 Settings → **"📚 Switch Project"**
2. 确认保存当前数据
3. 应用清除当前项目路径
4. 页面刷新
5. 自动显示项目选择界面
6. 可以选择：
   - 最近的项目
   - 创建新项目
   - 打开现有项目

## 📁 当前项目位置

### 默认位置
```
~/Library/Application Support/vocab-review-app/user-data/
```

### 查看当前项目
在 Settings 中可以看到"Project Location"显示当前项目的完整路径。

## 🧪 测试场景

### 场景1：导出并分享给朋友
1. 打开你的项目
2. Settings → "📦 Export Project"
3. 选择导出位置（例如：桌面）
4. 得到一个完整的项目文件夹
5. 把这个文件夹发给朋友
6. 朋友使用 "📥 Import Project" 或 "📂 Open Existing Project" 导入

### 场景2：备份项目
1. Settings → "📦 Export Project"
2. 选择备份位置（例如：外置硬盘、云盘）
3. 定期导出备份

### 场景3：在多台电脑间同步
1. 把项目文件夹放在 iCloud Drive 或 Dropbox
2. 在另一台电脑上使用 "📂 Open Existing Project" 打开
3. 两台电脑共享同一个项目文件夹

### 场景4：切换不同的词汇集
1. Settings → "📚 Switch Project"
2. 选择另一个项目（GRE、TOEFL、西班牙语等）
3. 快速切换学习内容

## 💡 重要提示

### 导出的项目文件夹包含：
- ✅ `vocabulary.json` - 所有单词和学习进度
- ✅ `config.json` - 项目元数据
- ✅ `logs/` - 所有日志（未来功能）

### 导入项目时：
- 文件夹必须包含 `vocabulary.json`
- 应用会验证文件夹结构
- 导入后会切换到新项目

### Switch Project：
- 会保存当前项目的所有数据
- 清除 localStorage 中的项目路径
- 刷新后显示项目选择界面
- 不会删除任何数据

## 🎯 UI 改进

所有操作都使用系统原生对话框：
- ✅ Export Project → 保存对话框（Finder）
- ✅ Import Project → 文件夹选择对话框（Finder）
- ✅ Create New Project → 保存对话框（Finder）
- ✅ Open Existing Project → 文件夹选择对话框（Finder）

**没有手动输入路径！** 全部使用 UI 友好的文件浏览器。
