# 如何使用项目文件夹功能

## 功能说明

现在你的词汇应用使用**项目文件夹**结构，不再是单个文件。每个词汇项目是一个文件夹，包含：
- `vocabulary.json` - 单词数据
- `logs/` - 日志目录（未来功能）
- `config.json` - 项目配置

## 首次启动

1. 运行 `npm run dev`
2. Electron 应用会打开，显示项目选择界面
3. 你会看到两个选项：
   - **✨ Create New Project** - 创建新项目
   - **📂 Open Existing Project** - 打开现有项目

## 创建新项目

1. 点击 "✨ Create New Project"
2. 系统会打开**保存对话框**（不是手动输入！）
3. 选择你想要保存项目的位置
4. 输入项目名称（例如：GRE词汇、西班牙语单词）
5. 点击"Create Project"
6. 应用会自动创建文件夹结构并初始化空的词汇数据

**默认建议位置：** `~/Documents/VocabProjects/`

## 打开现有项目

1. 点击 "📂 Open Existing Project"
2. 系统会打开**文件夹选择对话框**（不是手动输入！）
3. 选择包含 `vocabulary.json` 的项目文件夹
4. 应用会验证文件夹结构并加载数据

## 最近项目

如果你之前打开过项目，启动时会显示"Recent Projects"列表：
- 显示项目名称
- 显示单词数量
- 显示最后修改时间
- 显示完整路径
- 点击任意项目即可快速打开

应用会记住最近的 10 个项目。

## 切换项目

在使用应用时想切换到另一个项目：

1. 点击右上角的**设置图标**（⚙️）
2. 在"Data Storage"部分，点击 **📚 Switch Project**
3. 确认保存当前数据
4. 应用会返回到项目选择界面
5. 选择或创建另一个项目

## 项目文件夹示例

```
~/Documents/VocabProjects/
├── GRE-Words/
│   ├── vocabulary.json      # 你的单词数据
│   ├── logs/                # 日志（未来功能）
│   └── config.json          # 项目元数据
│
├── Spanish-Vocab/
│   ├── vocabulary.json
│   ├── logs/
│   └── config.json
│
└── TOEFL-Prep/
    ├── vocabulary.json
    ├── logs/
    └── config.json
```

## 数据持久化

- 所有操作（添加、修改、删除、复习）都会**立即保存**到 `vocabulary.json`
- 不使用 localStorage，数据真正存储在文件系统中
- 可以在 Finder 中直接查看和备份项目文件夹
- 可以用 Git 管理项目文件夹
- 可以通过云盘（iCloud、Dropbox）同步项目文件夹

## 导入导出

### 导出备份
1. 打开设置
2. 点击 "Export Backup"
3. 下载 JSON 文件

### 导入数据
1. 打开设置
2. 点击 "Import Data"
3. 选择之前导出的 JSON 文件
4. 数据会导入到当前项目

## 浏览器模式

如果在浏览器中运行（不是 Electron）：
- 会显示警告信息
- 提供"Continue with Default"选项
- 数据会存储在 localStorage（浏览器特定）
- 建议使用 Electron 版本获得完整功能

## 故障排除

### 应用显示空白
- 检查 localStorage 中是否有 `vocab_project_path`
- 清除它：`localStorage.removeItem('vocab_project_path')`
- 刷新页面

### 无法打开项目
- 确保文件夹包含 `vocabulary.json`
- 检查文件权限
- 查看控制台错误信息

### 切换项目不工作
- 确认点击了"Switch Project"按钮
- 应用会自动保存当前数据
- 刷新后会显示项目选择界面

## 技术细节

- 项目路径存储在：`localStorage['vocab_project_path']`
- 最近项目列表存储在：`~/Library/Application Support/Electron/recent-projects.json`
- 所有文件操作使用绝对路径
- 项目可以存储在文件系统的任何位置
